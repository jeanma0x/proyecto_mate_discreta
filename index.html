<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Proyecto Matem√°tica Discreta - Maqueta Digital Interactiva</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<header>
  <div>
    <h1>Proyecto Matem√°tica Discreta ‚Äì Maqueta Digital Interactiva</h1>
    <span>Red de transporte ‚Ä¢ Red el√©ctrica / agua ‚Ä¢ Sistema de sem√°foros</span>
  </div>
  <span>Grafos + Dijkstra + MST</span>
</header>

<div class="container">
  <div class="nav-tabs" role="tablist" aria-label="Secciones del proyecto">
    <button
      id="tab-teoria"
      class="tab-btn active"
      role="tab"
      aria-selected="true"
      aria-controls="teoria"
      tabindex="0"
      data-target="teoria"
    >1. Teor√≠a y funcionamiento</button>
    <button
      id="tab-transporte"
      class="tab-btn"
      role="tab"
      aria-selected="false"
      aria-controls="transporte"
      tabindex="-1"
      data-target="transporte"
    >2. Red de transporte</button>
    <button
      id="tab-electrica"
      class="tab-btn"
      role="tab"
      aria-selected="false"
      aria-controls="electrica"
      tabindex="-1"
      data-target="electrica"
    >3. Red el√©ctrica / agua</button>
    <button
      id="tab-semaforos"
      class="tab-btn"
      role="tab"
      aria-selected="false"
      aria-controls="semaforos"
      tabindex="-1"
      data-target="semaforos"
    >4. Sistema de sem√°foros</button>
  </div>

  <!-- TEOR√çA -->
  <section id="teoria" class="view active" role="tabpanel" aria-labelledby="tab-teoria">
    <span class="badge"><span class="badge-dot"></span> Qu√© hace cada parte de la maqueta</span>
    <h2>Resumen te√≥rico y c√≥mo usar la maqueta digital</h2>
    <p>
      Esta p√°gina modela tres sistemas reales usando <strong>grafos</strong>:
      una red de transporte, una red de distribuci√≥n (el√©ctrica/agua) y un sistema de sem√°foros.
      En todos los casos:
    </p>
    <ul style="font-size:0.9rem; color:#cbd5f5;">
      <li>Los <strong>nodos</strong> representan lugares o dispositivos (paradas, subestaciones, cruces).</li>
      <li>Las <strong>aristas</strong> representan conexiones (carreteras, tuber√≠as, calles).</li>
      <li>Los <strong>pesos</strong> representan distancia, costo o tiempo.</li>
      <li>T√∫ puedes <strong>modificar par√°metros</strong> y ver nuevos escenarios.</li>
    </ul>

    <div class="flip-grid">
      <!-- Flip 1: Grafo -->
      <div class="flip-card" tabindex="0" role="button" aria-pressed="false">
        <div class="flip-inner">
          <div class="flip-face flip-front">
            <h3>Grafos y grafos ponderados</h3>
            <p>Un mapa, una red el√©ctrica o un cruce de calles se pueden ver como un grafo.</p>
            <pre>
‚óè‚îÄ‚îÄ‚îÄ‚óè‚îÄ‚îÄ‚îÄ‚óè
 \   ‚îÇ
  \  ‚óè
(pesos en las aristas)
            </pre>
            <p style="font-size:0.8rem;color:#9ca3af;">
              Pulsa la tarjeta para ver la explicaci√≥n r√°pida.
            </p>
          </div>
          <div class="flip-face flip-back">
            <h3>Definiciones clave</h3>
            <ul>
              <li><strong>V√©rtices</strong>: puntos de inter√©s (lugares, estaciones, cruces).</li>
              <li><strong>Aristas</strong>: conexiones entre v√©rtices.</li>
              <li><strong>Peso</strong>: n√∫mero asociado a una arista
                (km, costo, tiempo, capacidad).</li>
              <li>Un <strong>grafo ponderado</strong> es un grafo donde
                cada arista tiene un peso.</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Flip 2: Dijkstra -->
      <div class="flip-card" tabindex="0" role="button" aria-pressed="false">
        <div class="flip-inner">
          <div class="flip-face flip-front">
            <h3>Red de transporte y Dijkstra</h3>
            <p>Buscamos la ruta m√°s corta entre dos puntos de la ciudad.</p>
            <pre>
A‚îÄ‚îÄ4‚îÄ‚îÄB‚îÄ‚îÄ5‚îÄ‚îÄD
‚îÇ  \1 ‚îÇ
2   \ C
 \    \
  E‚îÄ‚îÄ3‚îÄ‚îÄF
            </pre>
            <p style="font-size:0.8rem;color:#9ca3af;">
              El bus recorre el camino resaltado con distancia m√≠nima.
            </p>
          </div>
          <div class="flip-face flip-back">
            <h3>Algoritmo de Dijkstra</h3>
            <ul>
              <li>Distancia inicial del origen = 0; resto = ‚àû.</li>
              <li>Tomar siempre el nodo no visitado con menor distancia.</li>
              <li><strong>Relajar</strong> sus vecinos:
                si pasar por √©l mejora la distancia, se actualiza.</li>
              <li>En la maqueta:
                <ul>
                  <li>Eliges origen y destino.</li>
                  <li>Se calcula el camino m√°s corto con los pesos que hayas puesto.</li>
                  <li>Se resalta la ruta y se anima el bus.</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Flip 3: MST -->
      <div class="flip-card" tabindex="0" role="button" aria-pressed="false">
        <div class="flip-inner">
          <div class="flip-face flip-front">
            <h3>Red el√©ctrica / agua y MST</h3>
            <p>Queremos conectar todos los nodos al menor costo.</p>
            <pre>
   P‚îÄ‚îÄ‚îÄQ‚îÄ‚îÄ‚îÄS‚îÄ‚îÄ‚îÄU
    \  ‚îÇ  /
      R‚îÄ‚îÄT
(MST = √°rbol sin ciclos)
            </pre>
          </div>
          <div class="flip-face flip-back">
            <h3>√Årbol de Expansi√≥n M√≠nima</h3>
            <ul>
              <li>Un <strong>MST</strong> conecta todos los nodos:</li>
              <li>‚ô¶ Sin ciclos.</li>
              <li>‚ô¶ Con costo total m√≠nimo.</li>
              <li>Prim:
                <ul>
                  <li>Empieza en un nodo cualquiera.</li>
                  <li>Agrega siempre la arista m√°s barata que conecta
                    un nodo nuevo al √°rbol actual.</li>
                  <li>En la maqueta, esas aristas se ven en verde.</li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Flip 4: Sem√°foros -->
      <div class="flip-card" tabindex="0" role="button" aria-pressed="false">
        <div class="flip-inner">
          <div class="flip-face flip-front">
            <h3>Sistema de sem√°foros</h3>
            <p>El cruce alterna el flujo Norte‚ÄìSur y Este‚ÄìOeste.</p>
            <pre>
N ‚Üë   ‚îÇ   ‚Üë N
  ‚îÇ   ‚îÇ   ‚îÇ
W ‚îú‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚î§ E
  ‚îÇ   ‚îÇ   ‚îÇ
S ‚Üì   ‚îÇ   ‚Üì S
            </pre>
          </div>
          <div class="flip-face flip-back">
            <h3>Grafos y tiempos</h3>
            <ul>
              <li>Cada calle es una arista.</li>
              <li>Cuando una direcci√≥n est√° en verde, esas aristas est√°n activas.</li>
              <li>Los sliders controlan:
                <ul>
                  <li>Segundos de verde para N‚ÄìS.</li>
                  <li>Segundos de verde para E‚ÄìO.</li>
                  <li>Segundos de amarillo.</li>
                </ul>
              </li>
              <li>M√°s tiempo verde ‚áí m√°s ‚Äúcapacidad‚Äù para esa direcci√≥n
                en el grafo de tr√°fico.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Bloque extra de teor√≠a para reporte / exposici√≥n -->
    <div class="algo-extra">
      <h3>Algoritmos usados</h3>
      <p>
        A continuaci√≥n se muestran explicaciones paso a paso de los algoritmos
        aplicados directamente a los grafos que aparecen en la maqueta. Puedes
        usar estos textos para tu informe escrito o para explicar en la exposici√≥n.
      </p>

      <details>
        <summary>üß≠ Dijkstra en la red de transporte (grafo A‚ÄìF)</summary>
        <ul>
          <li>1. Elegimos un nodo origen, por ejemplo <strong>A</strong> (Terminal).</li>
          <li>2. Inicializamos las distancias: dist(A)=0 y dist(resto)=‚àû.</li>
          <li>3. Marcamos todos los nodos como ‚Äúno visitados‚Äù.</li>
          <li>4. Escogemos el nodo no visitado con menor distancia actual. Al inicio es A.</li>
          <li>5. Desde A, miramos sus vecinos (por ejemplo B y C) y actualizamos:
            <ul>
              <li>dist(B) = min(‚àû, dist(A)+w(A,B))</li>
              <li>dist(C) = min(‚àû, dist(A)+w(A,C))</li>
            </ul>
          </li>
          <li>6. Marcamos A como visitado. Ya no se vuelve a considerar.</li>
          <li>7. Repetimos: tomamos ahora el nodo no visitado con menor distancia (podr√≠a ser C),
            relajamos a sus vecinos, y as√≠ sucesivamente.</li>
          <li>8. El proceso termina cuando:
            <ul>
              <li>Visitamos todos los nodos, o</li>
              <li>Llegamos al destino que nos interesa (por ejemplo F).</li>
            </ul>
          </li>
          <li>9. El camino m√°s corto se reconstruye yendo hacia atr√°s con los ‚Äúpredecesores‚Äù:
            desde F vemos de qu√© nodo vino la mejor distancia, luego del anterior, etc.,
            hasta regresar a A.</li>
          <li>10. En la maqueta:
            <ul>
              <li>Los valores que introduces en la tabla son los <strong>pesos</strong> de las aristas.</li>
              <li>Cuando das clic en ‚ÄúCalcular ruta m√°s corta‚Äù, el c√≥digo ejecuta Dijkstra con esos pesos.</li>
              <li>El resultado se resalta sobre el mapa y el bus recorre exactamente ese camino √≥ptimo.</li>
            </ul>
          </li>
        </ul>
      </details>

      <details>
        <summary>üåê Prim en la red el√©ctrica / agua (grafo P‚ÄìU)</summary>
        <ul>
          <li>1. Partimos de un nodo inicial cualquiera, por ejemplo <strong>P</strong> (Planta).</li>
          <li>2. El ‚Äú√°rbol‚Äù inicial contiene solo a P y ninguna arista.</li>
          <li>3. Buscamos, entre todas las aristas que salen desde el √°rbol actual (al inicio solo desde P),
              la de <strong>menor costo</strong> que conecte un nodo nuevo.
          </li>
          <li>4. Agregamos esa arista al √°rbol y tambi√©n el nuevo nodo conectado.</li>
          <li>5. Repetimos el proceso:
            <ul>
              <li>Desde los nodos ya conectados (por ejemplo P, Q y R), revisamos todas las aristas
                  que salen hacia nodos que todav√≠a no est√©n en el √°rbol.</li>
              <li>Elegimos siempre la de costo m√°s bajo.</li>
            </ul>
          </li>
          <li>6. Termina cuando todos los nodos (P, Q, R, S, T, U) est√°n conectados al √°rbol.</li>
          <li>7. El resultado es un <strong>√Årbol de Expansi√≥n M√≠nima (MST)</strong>:
            conecta todos los puntos sin ciclos y con el costo total m√≠nimo posible para esa configuraci√≥n de costos.
          </li>
          <li>8. En la maqueta:
            <ul>
              <li>Los valores de la tabla representan costo de instalaci√≥n de cable/tuber√≠a.</li>
              <li>Cuando haces clic en ‚ÄúCalcular y resaltar MST‚Äù, el algoritmo de Prim calcula qu√© aristas conviene usar.</li>
              <li>Las aristas elegidas se marcan en verde y se muestra el costo total m√≠nimo.</li>
            </ul>
          </li>
        </ul>
      </details>

      <details>
        <summary>üö¶ Sem√°foros como grafo de flujo</summary>
        <ul>
          <li>1. Cada <strong>calle</strong> alrededor del cruce se puede ver como una arista en un grafo.</li>
          <li>2. Las <strong>entradas</strong> y <strong>salidas</strong> (Norte, Sur, Este, Oeste) son v√©rtices.</li>
          <li>3. Cuando un sem√°foro est√° en verde:
            <ul>
              <li>Las aristas que representan ese sentido de circulaci√≥n est√°n <strong>activas</strong>.</li>
              <li>El flujo de carros puede avanzar (la capacidad es distinta de 0).</li>
            </ul>
          </li>
          <li>4. Cuando un sem√°foro est√° en rojo:
            <ul>
              <li>En el modelo por grafos, esas aristas se pueden ver como ‚Äúbloqueadas‚Äù.</li>
              <li>Equivale a eliminar temporalmente esas aristas del grafo.</li>
            </ul>
          </li>
          <li>5. Si se simula un <strong>fallo</strong> (por ejemplo, los sem√°foros N‚ÄìS se apagan),
              en el grafo eso se ve como si se desactivaran todas las aristas
              que conectan Norte y Sur con el resto.
          </li>
          <li>6. Esto afecta directamente los caminos disponibles: algunos trayectos que antes exist√≠an
              ahora quedan imposibles porque falta al menos una arista.
          </li>
          <li>7. En la maqueta:
            <ul>
              <li>Los sliders cambian la duraci√≥n de las fases verde y amarilla.</li>
              <li>El ciclo que ves corresponde a alternar qu√© aristas del grafo est√°n activas en cada momento.</li>
              <li>El bot√≥n de ‚Äúfallo‚Äù simula desactivar por completo las aristas N‚ÄìS.</li>
            </ul>
          </li>
        </ul>
      </details>
    </div>
  </section>

  <!-- RED DE TRANSPORTE -->
  <section id="transporte" class="view" role="tabpanel" aria-labelledby="tab-transporte" hidden>
    <span class="badge"><span class="badge-dot"></span> Grafo de ciudad editable + Dijkstra + bus animado</span>
    <h2>Red f√≠sica de transporte (puedes cambiar distancias y rutas)</h2>
    <p>
      Esta secci√≥n simula una peque√±a ciudad. Puedes <strong>modificar las distancias</strong> de las carreteras
      y recalcular la ruta m√°s corta entre dos puntos con Dijkstra. El bus recorre visualmente el camino √≥ptimo.
    </p>

    <div class="flex">
      <div class="panel">
        <h3>Mapa de la ciudad</h3>
        <div class="graph-wrapper">
          <div class="map-background"></div>
          <div class="map-district map-d1"></div>
          <div class="map-district map-d2"></div>
          <div class="map-district map-d3"></div>
          <div class="map-district map-d4"></div>

          <svg id="transport-graph" viewBox="0 0 500 320">
            <!-- Carreteras gruesas tipo mapa -->
            <line class="road-edge" x1="80" y1="70" x2="250" y2="60" />
            <line class="road-edge" x1="80" y1="70" x2="140" y2="170" />
            <line class="road-edge" x1="250" y1="60" x2="140" y2="170" />
            <line class="road-edge" x1="250" y1="60" x2="350" y2="150" />
            <line class="road-edge" x1="140" y1="170" x2="350" y2="150" />
            <line class="road-edge" x1="140" y1="170" x2="200" y2="260" />
            <line class="road-edge" x1="350" y1="150" x2="200" y2="260" />
            <line class="road-edge" x1="350" y1="150" x2="430" y2="230" />
            <line class="road-edge" x1="200" y1="260" x2="430" y2="230" />

            <!-- L√≠neas de carril centrales -->
            <line class="road-lane" x1="80" y1="70" x2="250" y2="60" />
            <line class="road-lane" x1="80" y1="70" x2="140" y2="170" />
            <line class="road-lane" x1="250" y1="60" x2="140" y2="170" />
            <line class="road-lane" x1="250" y1="60" x2="350" y2="150" />
            <line class="road-lane" x1="140" y1="170" x2="350" y2="150" />
            <line class="road-lane" x1="140" y1="170" x2="200" y2="260" />
            <line class="road-lane" x1="350" y1="150" x2="200" y2="260" />
            <line class="road-lane" x1="350" y1="150" x2="430" y2="230" />
            <line class="road-lane" x1="200" y1="260" x2="430" y2="230" />

            <!-- Aristas para resaltado -->
            <line id="edge-A-B" class="edge" x1="80" y1="70" x2="250" y2="60" />
            <line id="edge-A-C" class="edge" x1="80" y1="70" x2="140" y2="170" />
            <line id="edge-B-C" class="edge" x1="250" y1="60" x2="140" y2="170" />
            <line id="edge-B-D" class="edge" x1="250" y1="60" x2="350" y2="150" />
            <line id="edge-C-D" class="edge" x1="140" y1="170" x2="350" y2="150" />
            <line id="edge-C-E" class="edge" x1="140" y1="170" x2="200" y2="260" />
            <line id="edge-D-E" class="edge" x1="350" y1="150" x2="200" y2="260" />
            <line id="edge-D-F" class="edge" x1="350" y1="150" x2="430" y2="230" />
            <line id="edge-E-F" class="edge" x1="200" y1="260" x2="430" y2="230" />

            <!-- Pesos (distancias) -->
            <text id="label-A-B" class="weight-label" x="165" y="55">4 km</text>
            <text id="label-A-C" class="weight-label" x="100" y="120">2 km</text>
            <text id="label-B-C" class="weight-label" x="195" y="120">1 km</text>
            <text id="label-B-D" class="weight-label" x="310" y="90">5 km</text>
            <text id="label-C-D" class="weight-label" x="245" y="165">8 km</text>
            <text id="label-C-E" class="weight-label" x="160" y="230">10 km</text>
            <text id="label-D-E" class="weight-label" x="275" y="215">2 km</text>
            <text id="label-D-F" class="weight-label" x="390" y="185">6 km</text>
            <text id="label-E-F" class="weight-label" x="320" y="250">3 km</text>

            <!-- Nodos -->
            <circle id="node-A" class="node" cx="80" cy="70" r="15" />
            <text class="node-label" x="80" y="70">A</text>
            <text class="node-desc"  x="80" y="92">üöå Terminal</text>

            <circle id="node-B" class="node" cx="250" cy="60" r="15" />
            <text class="node-label" x="250" y="60">B</text>
            <text class="node-desc"  x="250" y="82">üèô Centro</text>

            <circle id="node-C" class="node" cx="140" cy="170" r="15" />
            <text class="node-label" x="140" y="170">C</text>
            <text class="node-desc"  x="140" y="192">üõí Mercado</text>

            <circle id="node-D" class="node" cx="350" cy="150" r="15" />
            <text class="node-label" x="350" y="150">D</text>
            <text class="node-desc"  x="350" y="172">üéì Univ.</text>

            <circle id="node-E" class="node" cx="200" cy="260" r="15" />
            <text class="node-label" x="200" y="260">E</text>
            <text class="node-desc"  x="200" y="282">üè• Hospital</text>

            <circle id="node-F" class="node" cx="430" cy="230" r="15" />
            <text class="node-label" x="430" y="230">F</text>
            <text class="node-desc"  x="430" y="252">üè¨ Centro Com.</text>
          </svg>
          <div id="bus-icon" class="bus-icon">üöç</div>
        </div>
      </div>

      <div class="panel">
        <h3>Par√°metros de la red y simulaci√≥n</h3>
        <div class="controls">
          <div>
            <label>Distancias de las carreteras (km)</label>
            <table class="small-table">
              <thead>
              <tr><th>Arista</th><th>Peso</th></tr>
              </thead>
              <tbody>
              <tr><td>A ‚Äì B</td><td><input id="input-A-B" type="number" min="1" step="1" value="4"></td></tr>
              <tr><td>A ‚Äì C</td><td><input id="input-A-C" type="number" min="1" step="1" value="2"></td></tr>
              <tr><td>B ‚Äì C</td><td><input id="input-B-C" type="number" min="1" step="1" value="1"></td></tr>
              <tr><td>B ‚Äì D</td><td><input id="input-B-D" type="number" min="1" step="1" value="5"></td></tr>
              <tr><td>C ‚Äì D</td><td><input id="input-C-D" type="number" min="1" step="1" value="8"></td></tr>
              <tr><td>C ‚Äì E</td><td><input id="input-C-E" type="number" min="1" step="1" value="10"></td></tr>
              <tr><td>D ‚Äì E</td><td><input id="input-D-E" type="number" min="1" step="1" value="2"></td></tr>
              <tr><td>D ‚Äì F</td><td><input id="input-D-F" type="number" min="1" step="1" value="6"></td></tr>
              <tr><td>E ‚Äì F</td><td><input id="input-E-F" type="number" min="1" step="1" value="3"></td></tr>
              </tbody>
            </table>
          </div>

          <div>
            <label>Origen y destino</label>
            <select id="origen">
              <option value="A">A ‚Äì Terminal</option>
              <option value="B">B ‚Äì Centro</option>
              <option value="C">C ‚Äì Mercado</option>
              <option value="D">D ‚Äì Universidad</option>
              <option value="E">E ‚Äì Hospital</option>
              <option value="F">F ‚Äì Centro Comercial</option>
            </select>
            <select id="destino" style="margin-top:0.3rem;">
              <option value="A">A ‚Äì Terminal</option>
              <option value="B">B ‚Äì Centro</option>
              <option value="C">C ‚Äì Mercado</option>
              <option value="D">D ‚Äì Universidad</option>
              <option value="E">E ‚Äì Hospital</option>
              <option value="F" selected>F ‚Äì Centro Comercial</option>
            </select>
          </div>

          <button class="action-btn" id="btn-dijkstra">
            Calcular ruta m√°s corta
          </button>
          <button class="action-btn success" id="btn-anim-bus">
            Animar recorrido del bus
          </button>
          <button class="action-btn secondary" id="btn-reset-dijkstra">
            Limpiar resaltado / reiniciar bus
          </button>
          <button class="action-btn secondary" id="btn-random-weights">
            Randomizar distancias (escenario alterno)
          </button>

          <div class="result-box" id="resultado-dijkstra">
            1) Ajusta los km de las aristas si quieres.  
            2) Elige origen y destino.  
            3) Presiona ‚ÄúCalcular ruta m√°s corta‚Äù.
          </div>

          <div class="result-box" id="tabla-dijkstra">
            Aqu√≠ aparecer√°n los pasos de Dijkstra para la configuraci√≥n actual.
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- RED EL√âCTRICA / AGUA -->
  <section id="electrica" class="view" role="tabpanel" aria-labelledby="tab-electrica" hidden>
    <span class="badge"><span class="badge-dot"></span> Red de distribuci√≥n editable + MST</span>
    <h2>Maqueta de red el√©ctrica / de agua (puedes cambiar costos)</h2>
    <p>
      Aqu√≠ los pesos representan <strong>costos</strong> de instalaci√≥n de cables/tuber√≠as.
      Puedes editar cada costo y ver c√≥mo cambia el <strong>√°rbol de expansi√≥n m√≠nima</strong>
      (MST) obtenido con el algoritmo de Prim.
    </p>

    <div class="flex">
      <div class="panel">
        <h3>Red de distribuci√≥n ‚ö° / üíß</h3>
        <svg id="electric-graph" viewBox="0 0 500 320">
          <!-- Tubos/cables gruesos -->
          <line class="pipe-edge" x1="70" y1="80" x2="230" y2="60" />
          <line class="pipe-edge" x1="70" y1="80" x2="140" y2="200" />
          <line class="pipe-edge" x1="230" y1="60" x2="140" y2="200" />
          <line class="pipe-edge" x1="230" y1="60" x2="360" y2="90" />
          <line class="pipe-edge" x1="140" y1="200" x2="260" y2="250" />
          <line class="pipe-edge" x1="360" y1="90" x2="260" y2="250" />
          <line class="pipe-edge" x1="360" y1="90" x2="430" y2="210" />
          <line class="pipe-edge" x1="260" y1="250" x2="430" y2="210" />

          <!-- Tubos interiores (aristas MST) -->
          <line id="edge-P-Q" class="pipe-inner" x1="70" y1="80" x2="230" y2="60" />
          <line id="edge-P-R" class="pipe-inner" x1="70" y1="80" x2="140" y2="200" />
          <line id="edge-Q-R" class="pipe-inner" x1="230" y1="60" x2="140" y2="200" />
          <line id="edge-Q-S" class="pipe-inner" x1="230" y1="60" x2="360" y2="90" />
          <line id="edge-R-T" class="pipe-inner" x1="140" y1="200" x2="260" y2="250" />
          <line id="edge-S-T" class="pipe-inner" x1="360" y1="90" x2="260" y2="250" />
          <line id="edge-S-U" class="pipe-inner" x1="360" y1="90" x2="430" y2="210" />
          <line id="edge-T-U" class="pipe-inner" x1="260" y1="250" x2="430" y2="210" />

          <!-- Pesos (costos) -->
          <text id="cost-P-Q" class="weight-label" x="150" y="60">6</text>
          <text id="cost-P-R" class="weight-label" x="100" y="145">4</text>
          <text id="cost-Q-R" class="weight-label" x="185" y="140">5</text>
          <text id="cost-Q-S" class="weight-label" x="300" y="65">3</text>
          <text id="cost-R-T" class="weight-label" x="205" y="235">4</text>
          <text id="cost-S-T" class="weight-label" x="315" y="180">7</text>
          <text id="cost-S-U" class="weight-label" x="395" y="150">2</text>
          <text id="cost-T-U" class="weight-label" x="345" y="240">6</text>

          <!-- Nodos -->
          <circle class="node" cx="70" cy="80" r="15" />
          <text class="node-label" x="70" y="80">P</text>
          <text class="node-desc" x="70" y="102">‚öôÔ∏è Planta</text>

          <circle class="node" cx="230" cy="60" r="15" />
          <text class="node-label" x="230" y="60">Q</text>
          <text class="node-desc" x="230" y="82">‚ö° Subest. N</text>

          <circle class="node" cx="140" cy="200" r="15" />
          <text class="node-label" x="140" y="200">R</text>
          <text class="node-desc" x="140" y="222">‚ö° Subest. S</text>

          <circle class="node" cx="360" cy="90" r="15" />
          <text class="node-label" x="360" y="90">S</text>
          <text class="node-desc" x="360" y="112">üí° Nodo Este</text>

          <circle class="node" cx="260" cy="250" r="15" />
          <text class="node-label" x="260" y="250">T</text>
          <text class="node-desc" x="260" y="272">üí° Nodo Oeste</text>

          <circle class="node" cx="430" cy="210" r="15" />
          <text class="node-label" x="430" y="210">U</text>
          <text class="node-desc" x="430" y="232">üè† Cliente</text>
        </svg>
      </div>

      <div class="panel">
        <h3>Par√°metros de costos y MST</h3>
        <div class="controls">
          <div>
            <label>Costos de cada conexi√≥n</label>
            <table class="small-table">
              <thead><tr><th>Arista</th><th>Costo</th></tr></thead>
              <tbody>
              <tr><td>P ‚Äì Q</td><td><input id="cost-input-P-Q" type="number" min="1" step="1" value="6"></td></tr>
              <tr><td>P ‚Äì R</td><td><input id="cost-input-P-R" type="number" min="1" step="1" value="4"></td></tr>
              <tr><td>Q ‚Äì R</td><td><input id="cost-input-Q-R" type="number" min="1" step="1" value="5"></td></tr>
              <tr><td>Q ‚Äì S</td><td><input id="cost-input-Q-S" type="number" min="1" step="1" value="3"></td></tr>
              <tr><td>R ‚Äì T</td><td><input id="cost-input-R-T" type="number" min="1" step="1" value="4"></td></tr>
              <tr><td>S ‚Äì T</td><td><input id="cost-input-S-T" type="number" min="1" step="1" value="7"></td></tr>
              <tr><td>S ‚Äì U</td><td><input id="cost-input-S-U" type="number" min="1" step="1" value="2"></td></tr>
              <tr><td>T ‚Äì U</td><td><input id="cost-input-T-U" type="number" min="1" step="1" value="6"></td></tr>
              </tbody>
            </table>
          </div>

          <button class="action-btn" id="btn-mst">
            Calcular y resaltar MST
          </button>
          <button class="action-btn secondary" id="btn-reset-mst">
            Limpiar resaltado
          </button>

          <div class="result-box" id="resultado-mst">
            Edita los costos si quieres probar otro escenario y luego presiona ‚ÄúCalcular y resaltar MST‚Äù.
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SISTEMA DE SEM√ÅFOROS -->
  <section id="semaforos" class="view" role="tabpanel" aria-labelledby="tab-semaforos" hidden>
    <span class="badge"><span class="badge-dot"></span> Sem√°foros con tiempos configurables y fallo</span>
    <h2>Sistema f√≠sico de sem√°foros (puedes ajustar los tiempos)</h2>
    <p>
      Esta intersecci√≥n controla el paso norte-sur y este-oeste. Puedes cambiar los segundos de verde y amarillo
      y observar el ciclo. Tambi√©n puedes simular un fallo en la direcci√≥n norte-sur.
    </p>

    <div class="flex">
      <div class="panel">
        <h3>Intersecci√≥n y sem√°foros üö¶</h3>
        <div class="intersection">
          <div class="road horizontal">
            <div class="lane-line"></div>
          </div>
          <div class="road vertical">
            <div class="lane-line-vert"></div>
          </div>

          <div class="light-box north">
            <div id="north-red" class="light red"></div>
            <div id="north-yellow" class="light yellow"></div>
            <div id="north-green" class="light green"></div>
          </div>

          <div class="light-box south">
            <div id="south-red" class="light red"></div>
            <div id="south-yellow" class="light yellow"></div>
            <div id="south-green" class="light green"></div>
          </div>

          <div class="light-box west">
            <div id="west-red" class="light red"></div>
            <div id="west-yellow" class="light yellow"></div>
            <div id="west-green" class="light green"></div>
          </div>

          <div class="light-box east">
            <div id="east-red" class="light red"></div>
            <div id="east-yellow" class="light yellow"></div>
            <div id="east-green" class="light green"></div>
          </div>

          <div class="dir-label dir-n">N</div>
          <div class="dir-label dir-s">S</div>
          <div class="dir-label dir-w">O</div>
          <div class="dir-label dir-e">E</div>
        </div>
      </div>

      <div class="panel">
        <h3>Tiempos de ciclo y simulaci√≥n</h3>
        <div class="controls">
          <div>
            <label>Verde norte-sur (seg)</label>
            <input id="range-ns-green" type="range" min="2" max="10" value="4">
            <div class="range-value">Actual: <span id="val-ns-green">4 s</span></div>
          </div>
          <div>
            <label>Verde este-oeste (seg)</label>
            <input id="range-ew-green" type="range" min="2" max="10" value="4">
            <div class="range-value">Actual: <span id="val-ew-green">4 s</span></div>
          </div>
          <div>
            <label>Amarillo (aplica a ambos) (seg)</label>
            <input id="range-yellow" type="range" min="1" max="5" value="2">
            <div class="range-value">Actual: <span id="val-yellow">2 s</span></div>
          </div>

          <div class="range-value" style="margin-top:0.3rem;">
            Ciclo total estimado: <span id="sem-cycle">12 s</span> ‚Äì
            N‚ÄìS verde: <span id="sem-ns-perc">33%</span>,
            E‚ÄìO verde: <span id="sem-ew-perc">33%</span>,
            Amarillo total: <span id="sem-y-perc">33%</span>.
          </div>

          <button class="action-btn" id="btn-start-sem">
            Iniciar ciclo con estos tiempos
          </button>
          <button class="action-btn secondary" id="btn-stop-sem">
            Detener ciclo (todo rojo)
          </button>
          <button class="action-btn danger" id="btn-fallo">
            Simular fallo en norte-sur
          </button>

          <div class="result-box" id="resultado-sem">
            Ajusta los tiempos, luego presiona ‚ÄúIniciar ciclo de sem√°foros‚Äù.
          </div>
          <p style="font-size:0.8rem; margin-top:0.5rem;">
            Desde grafos: cuando una direcci√≥n est√° en rojo (o falla), es como si se desactivaran
            temporalmente esas aristas, reduciendo los caminos disponibles entre los v√©rtices de la red vial.
          </p>
        </div>
      </div>
    </div>
  </section>
</div>

<script src="js/main.js"></script>
</body>
</html>
